(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1564:function(t,e,r){"use strict";r.r(e);var n=r(6),a=r(7),c=r(8),o=r(9),i=r(4),u=r(0),s=r.n(u),l=r(20),f=r(26),d=r(123),p=r(622),m=r(18),h=r(17),b=r(29),g=r(46),y=r.n(g),j=r(86),v=r.n(j),E=(r(629),r(626)),O=r(85),_=r(630),x=r(126),T=r.n(x),R=r(632),C=r(636),I=r.n(C),P=r(637),k=r.n(P),S=r(648),D=r.n(S),H=r(27);function L(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var w=function(t){Object(c.a)(r,t);var e=L(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={loading:!0},a.setOptions.bind(Object(h.a)(a)),a.buttonClick.bind(Object(h.a)(a)),a}return Object(a.a)(r,[{key:"componentWillMount",value:function(){this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(t){if(!k()(this.props.data,t.data)){var e=this.setOptions();I.a.chart("chart",e)}if(!k()(this.props.selectedLanguage,t.selectedLanguage)){var r=this.setOptions();I.a.chart("chart",r)}}},{key:"setOptions",value:function(){var t=this.formatData(),e=this.props.selectedLanguage;return{chart:{type:"column",height:350},credits:!1,title:{text:H.a[e].userHoursChart.chartTitle},xAxis:{categories:this.props.data.map(function(t){return t.user_name})},yAxis:{min:0,title:{text:H.a[e].dynamicChart.totalHours}},legend:{reversed:!0},series:t,plotOptions:{series:{stacking:"normal"}},tooltip:{backgroundColor:"#616161",borderColor:"#616161",borderWidth:.5,style:{color:"white",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}}}}},{key:"formatData",value:function(){var t=this,e=Object.values(this.props.labels),r=[];return e.forEach(function(e){r.push({name:e,data:t.props.data.map(function(t){return t[e]})})}),r}},{key:"buttonClick",value:function(){var t=this.setOptions();I.a.chart("chart",t)}},{key:"render",value:function(){if(this.state.loading)return s.a.createElement(m.a,null);var t=this.setOptions();return s.a.createElement("div",null,s.a.createElement("div",{id:"chart"},s.a.createElement(D.a,{highcharts:I.a,options:t})))}}]),r}(u.Component),F=Object(f.b)(function(t){return{selectedLanguage:t.user.language}},function(t){return Object(l.b)({fetchVizHoursPerLabel:E.h},t)})(w);function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var U=function(t){Object(c.a)(r,t);var e=N(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={loading:!0,data:null,labels:null,totalHours:null},a.changeData=a.changeData.bind(Object(h.a)(a)),a}return Object(a.a)(r,[{key:"componentDidMount",value:function(){this.changeData(this.props.startDate,this.props.endDate)}},{key:"changeData",value:function(t,e){var r=this;this.props.fetchVizHoursPerUser(this.props.projectId,{start_date:t,end_date:e}).then(function(t){if(t.ok){var e={};t.body.data.forEach(function(r){e[r.user_email]=0,Object.keys(r).forEach(function(n){t.body.boards.includes(n)&&(e[r.user_email]+=r[n])})}),r.setState({loading:!1,data:t.body.data,labels:t.body.boards,totalHours:e})}})}},{key:"render",value:function(){var t=this.props,e=t.classes,r=t.members;if(this.state.loading)return s.a.createElement(m.a,null);var n=this.state,a=n.data,c=n.labels,o=n.totalHours;return s.a.createElement("div",{className:e.headerContainer},s.a.createElement(y.a,{className:e.title},H.a[this.props.selectedLanguage].usersChartIndex.hoursChart),s.a.createElement("div",{className:e.line}),s.a.createElement("div",{className:e.grid},s.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px"}},s.a.createElement(y.a,{className:e.text},H.a[this.props.selectedLanguage].usersChartIndex.from," ",this.props.startDate)),s.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px"}},s.a.createElement(y.a,{className:e.text},H.a[this.props.selectedLanguage].usersChartIndex.to," ",this.props.endDate))),s.a.createElement("div",{className:e.line}),Object.keys(o).length>0&&s.a.createElement(u.Fragment,null,s.a.createElement(y.a,{className:e.text},H.a[this.props.selectedLanguage].usersChartIndex.totalHours,":"," "),s.a.createElement("div",{style:{display:"flex"}},r.map(function(t){return s.a.createElement("div",{className:e.box,key:t.email},s.a.createElement(v.a,{placement:"top",title:t.name},s.a.createElement("div",null,(!t.image||"null"===t.image)&&s.a.createElement("img",{alt:"",className:e.customIcon,src:T.a}),t.image&&"null"!==t.image&&s.a.createElement("img",{alt:"",className:e.customIcon,src:t.image}))),s.a.createElement("div",{className:e.info},s.a.createElement(y.a,{className:e.text,style:{marginTop:0,marginBottom:0}},o[t.email])))}))),s.a.createElement("div",{className:e.wrapper},a.length>0&&s.a.createElement(F,{data:a,labels:c,params:[this.props.startDate,this.props.endDate]}),!a.length&&s.a.createElement(y.a,{style:{textAlign:"center"}},H.a[this.props.selectedLanguage].usersChartIndex.noReported)))}}]),r}(u.Component),A=Object(f.b)(function(t,e){return{members:Object(_.a)(e,t),selectedLanguage:t.user.language}},function(t){return Object(l.b)({fetchVizHoursPerUser:E.j,notifyError:O.b,changeUsersHours:R.e},t)})(Object(b.withStyles)({wrapper:{height:"400px",width:"auto"},modalContent:{width:"600px",height:"400px"},modalContainer:{},title:{fontSize:"28px",fontFamiliy:'-apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", "Lucida Grande", Arial, sans-serif',color:"rgb(68, 68, 68)"},headerContainer:{margin:"30px",width:"auto"},text:{color:"#2a3d41",fontSize:16,fontWeight:"bold",marginTop:"10px",marginBottom:"10px"},selectText:{color:"#2a3d41",fontSize:14,fontWeight:"normal",marginTop:"10px",marginBottom:"10px",marginLeft:"10px"},grid:{display:"flex",width:"100%",margin:"10px"},line:{width:"auto",height:"1px",backgroundColor:"#CCCCCC"},info:{color:"#2a3d41",fontSize:16,fontWeight:"bold",marginTop:"5px"},box:{display:"flex",marginRight:"10px",padding:"5px",alignItems:"center"},customIcon:{height:"24px",width:"24px",display:"block","border-radius":"50%",marginRight:"5px"}})(U));function B(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var M=function(t){Object(c.a)(r,t);var e=B(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={loading:!0},a}return Object(a.a)(r,[{key:"componentWillMount",value:function(){var t=this;this.props.selectProject(this.props.projectId),this.props.fetchProjectMembers(this.props.projectId).then(function(){t.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?s.a.createElement(m.a,null):s.a.createElement(u.Fragment,null,s.a.createElement(A,{projectId:this.props.projectId,startDate:this.props.startDate,endDate:this.props.endDate}))}}]),r}(u.Component);e.default=Object(f.b)(function(t,e){return{projectId:String(e.match.params.id),startDate:String(e.match.params.start_date),endDate:String(e.match.params.end_date)}},function(t){return Object(l.b)({selectProject:d.d,fetchProjectMembers:p.b},t)})(M)},622:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"d",function(){return c}),r.d(e,"e",function(){return o}),r.d(e,"f",function(){return i}),r.d(e,"a",function(){return u}),r.d(e,"c",function(){return s});var n=r(61),a=function(t){return{type:n.c,fetch:!0,url:"/projects/".concat(t,"/members/"),params:{method:"GET"}}},c=function(t,e){return{type:n.e,fetch:!0,url:"/tasks/".concat(t,"/assign/"),params:{method:"POST",body:e}}},o=function(t,e){return{type:n.f,fetch:!0,url:"/tasks/".concat(t,"/users/").concat(e,"/unassign/"),params:{method:"DELETE"}}},i=function(t,e,r){return{type:n.g,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"PUT",body:r}}},u=function(t,e){return{type:n.b,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"DELETE"}}},s=function(t,e){return{type:n.d,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"DELETE"}}}},626:function(t,e,r){"use strict";var n=r(1);r.d(e,"g",function(){return a}),r.d(e,"h",function(){return c}),r.d(e,"j",function(){return o}),r.d(e,"i",function(){return i}),r.d(e,"f",function(){return u}),r.d(e,"b",function(){return s}),r.d(e,"e",function(){return l}),r.d(e,"c",function(){return f}),r.d(e,"d",function(){return d}),r.d(e,"a",function(){return p});var a=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_BOARD",fetch:!0,url:"/viz/projects/".concat(t,"/hours_per_board"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},c=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_LABEL",fetch:!0,url:"/viz/boards/".concat(t,"/hours_per_label"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},o=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_USER",fetch:!0,url:"/viz/projects/".concat(t,"/hours_per_user"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},i=function(t,e,r){return{type:"FETCH_VIZ_HOURS_PER_TASK",fetch:!0,url:"/viz/projects/".concat(t,"/users/").concat(e,"/tasks"),params:{method:"GET"},queryParams:Object(n.a)({},r)}},u=function(t,e,r){return{type:"FETCH_VIZ_GITHUB",fetch:!0,url:"/viz/projects/".concat(t,"/users/").concat(e,"/github"),params:{method:"GET"},queryParams:Object(n.a)({},r)}},s=function(t){return{type:"FETCH_VIZ_LINKED_REPOS",fetch:!0,url:"/projects/".concat(t,"/repos"),params:{method:"GET"}}},l=function(t,e){return{type:"FETCH_VIZ_HOURS_TIMELINE",fetch:!0,url:"/viz/projects/".concat(t,"/users_timeline"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},f=function(t,e){return{type:"FETCH_VIZ_PR",fetch:!0,url:"/projects/".concat(t,"/gits/get_pull_requests"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},d=function(t,e){return{type:"FETCH_VIZ_PR_LEAD_TIME",fetch:!0,url:"/projects/".concat(t,"/gits/get_pr_lead_time"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},p=function(t,e){return{type:"FETCH_VIZ_COMMITS_PER_PR",fetch:!0,url:"/projects/".concat(t,"/gits/get_commits_of_all_pr"),params:{method:"GET"},queryParams:Object(n.a)({},e)}}},629:function(t,e,r){},630:function(t,e,r){"use strict";r.d(e,"a",function(){return o}),r.d(e,"d",function(){return i}),r.d(e,"c",function(){return u}),r.d(e,"e",function(){return s}),r.d(e,"b",function(){return l});var n=r(45),a=r(40),c=function(t){return null!=t?t.ref:null},o=Object(n.b)(a.a,function(t,e){return e.orm},function(t,e){return e.user.selectedProjectId},function(t,e){var r=c(t.Project.get(function(t){return t.id===e}));return null===r?[]:t.Member.filter(function(t){return r.members.includes(t.id)}).orderBy(function(t){return t.name.toUpperCase()}).toRefArray()}),i=Object(n.b)(a.a,function(t,e){return e.orm},function(t,e){return e.board.selectedTask},function(t,e){return e.user.selectedProjectId},function(t,e,r){var n=t.Task.get(function(t){return t.id===e}).ref;if(null===n)return null;var a=n.assigned,c=t.Project.get(function(t){return t.id===r}).ref.members;return t.Member.filter(function(t){return c.includes(t.id)}).orderBy(function(t){return t.name.toUpperCase()}).toRefArray().map(function(t){return Object.assign({},t,{assigned:a.includes(t.id)})})}),u=Object(n.b)(a.a,function(t,e){return e.orm},function(t){return t.taskId},function(t,e){var r=c(t.Task.get(function(t){return t.id===e}));return null===r?null:Object.assign({},{assigned:t.Member.filter(function(t){return r.assigned.includes(t.id)}).toRefArray()}).assigned}),s=Object(n.b)(a.a,function(t,e){return e.orm},function(t,e){return e.board.selectedTask},function(t,e){var r=c(t.Task.get(function(t){return t.id===e}));return null===r?null:Object.assign({},{assigned:t.Member.filter(function(t){return r.assigned.includes(t.id)}).toRefArray()}).assigned}),l=Object(n.b)(a.a,function(t,e){return e.orm},function(t,e){return e.user.selectedProjectId},function(t,e){var r=c(t.Project.get(function(t){return t.id===e}));return null===r?[]:t.Member.filter(function(t){return r.members.includes(t.id)&&"viewer"!==t.role}).orderBy(function(t){return t.name.toUpperCase()}).toRefArray()})},632:function(t,e,r){"use strict";r.d(e,"f",function(){return a}),r.d(e,"a",function(){return c}),r.d(e,"b",function(){return o}),r.d(e,"e",function(){return i}),r.d(e,"d",function(){return u}),r.d(e,"c",function(){return s}),r.d(e,"g",function(){return l});var n=r(71),a=function(t){return{type:n.d,payload:{body:{id:t}}}},c=function(t){return{type:n.a,payload:{body:t}}},o=function(t){return{type:n.b,payload:{body:t}}},i=function(t){return{type:n.g,payload:{body:t}}},u=function(t){return{type:n.f,payload:{body:t}}},s=function(t){return{type:n.c,payload:{body:t}}},l=function(){return{type:n.e}}},637:function(t,e,r){"use strict";var n=Array.isArray,a=Object.keys,c=Object.prototype.hasOwnProperty;t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){var o,i,u,s=n(e),l=n(r);if(s&&l){if((i=e.length)!=r.length)return!1;for(o=i;0!==o--;)if(!t(e[o],r[o]))return!1;return!0}if(s!=l)return!1;var f=e instanceof Date,d=r instanceof Date;if(f!=d)return!1;if(f&&d)return e.getTime()==r.getTime();var p=e instanceof RegExp,m=r instanceof RegExp;if(p!=m)return!1;if(p&&m)return e.toString()==r.toString();var h=a(e);if((i=h.length)!==a(r).length)return!1;for(o=i;0!==o--;)if(!c.call(r,h[o]))return!1;for(o=i;0!==o--;)if(!t(e[u=h[o]],r[u]))return!1;return!0}return e!==e&&r!==r}}}]);
//# sourceMappingURL=23.bc328a77.chunk.js.map