(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1565:function(t,e,r){"use strict";r.r(e);var n=r(6),a=r(7),o=r(8),c=r(9),i=r(4),s=r(0),u=r.n(s),l=r(20),p=r(26),f=r(123),d=r(622),h=r(18),m=r(17),y=r(29),b=r(46),g=r.n(b),v=(r(629),r(85)),E=r(626),O=r(632),j=r(712),_=r(636),x=r.n(_),R=r(109),C=r.n(R),T=r(637),I=r.n(T),P=r(648),k=r.n(P),H=r(27);function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var D=function(t){Object(o.a)(r,t);var e=S(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={loading:!0},a.setOptions.bind(Object(m.a)(a)),a.buttonClick.bind(Object(m.a)(a)),a}return Object(a.a)(r,[{key:"componentWillMount",value:function(){this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(t){if(!I()(this.props.data,t.data)){var e=this.setOptions();x.a.chart("chart",e)}if(!I()(this.props.selectedLanguage,t.selectedLanguage)){var r=this.setOptions();x.a.chart("chart",r)}}},{key:"setOptions",value:function(){var t,e=this.formatData(),r=this.props.labels,n=this.props.fetchVizHoursPerLabel,a=Object(j.a)(this.props.params,3),o=a[0],c=a[1],i=a[2],s=this.props.data.map(function(t){return t.date}),u=this.props.selectedLanguage;return{chart:{type:"column",height:350},credits:!1,title:{text:H.a[u].dynamicChart.boardReportedHours},xAxis:{categories:this.props.data.map(function(t){return t.date})},yAxis:{min:0,title:{text:H.a[u].dynamicChart.totalHours}},legend:{reversed:!0},series:e,tooltip:{backgroundColor:"#616161",borderColor:"#616161",borderWidth:1,style:{color:"white",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',textAlign:"center"},formatter:function(){return'<tspan style="font-size: 10px">'.concat(this.x,'<tspan> <br> <span style="color: ').concat(this.color,'">\u25cf</span> \n          <b>').concat(this.series.name," </b>: <b>").concat(this.y,"</b> <br> <i>").concat(H.a[u].dynamicChart.clickMessage,"</i>")}},plotOptions:{series:{stacking:"normal",cursor:"pointer",point:{events:{click:function(){var e,a,l=this.series.name,p=(e=r,a=l,Object.keys(e).find(function(t){return e[t]===a}));n(p,{group_by:o,start_date:c,end_date:i}).then(function(e){if(e.ok){var r=e.body.data,n=e.body.labels,a=[];n.forEach(function(t){a.push({name:t,data:r.map(function(e){return e[t]})})}),t={chart:{type:"column",height:350},credits:!1,title:{text:H.a[u].dynamicChart.labelReportedHours},xAxis:{categories:s},yAxis:{min:0,title:{text:H.a[u].dynamicChart.totalHours}},legend:{reversed:!0},series:a,plotOptions:{series:{stacking:"normal"}},tooltip:{backgroundColor:"#616161",borderColor:"#616161",borderWidth:1,style:{color:"white",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}}},x.a.chart("chart",t)}})}}}}}}}},{key:"formatData",value:function(){var t=this,e=Object.values(this.props.labels),r=[];return e.forEach(function(e){r.push({name:e,data:t.props.data.map(function(t){return t[e]})})}),r}},{key:"buttonClick",value:function(){var t=this.setOptions();x.a.chart("chart",t)}},{key:"render",value:function(){var t=this;if(this.state.loading)return u.a.createElement(h.a,null);var e=this.setOptions();return u.a.createElement("div",null,u.a.createElement("div",{id:"chart"},u.a.createElement(k.a,{highcharts:x.a,options:e})),u.a.createElement(C.a,{variant:"contained",id:"hours-chart-reset-button",onClick:function(){return t.buttonClick()}},H.a[this.props.selectedLanguage].dynamicChart.reset))}}]),r}(s.Component),L=Object(p.b)(function(t){return{selectedLanguage:t.user.language}},function(t){return Object(l.b)({fetchVizHoursPerLabel:E.h},t)})(D);function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var F=function(t){Object(o.a)(r,t);var e=w(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={loading:!0,data:null,labels:null,total:null,selected:null,selectedIndex:null},a.changeData=a.changeData.bind(Object(m.a)(a)),a}return Object(a.a)(r,[{key:"componentWillMount",value:function(){this.changeData(this.props.filterOption,this.props.startDate,this.props.endDate)}},{key:"changeData",value:function(t,e,r){var n=this;this.props.fetchVizHoursPerBoard(this.props.projectId,{start_date:e,end_date:r,group_by:t}).then(function(t){if(t.ok){var e=function(t){return t<1?0:t},r=0,a=0,o=0,c=Object.values(t.body.boards);t.body.data.forEach(function(t){c.forEach(function(n){r+=e(t[n]),o+=e(t[n])}),o>a&&(a=o),o=0}),n.setState({loading:!1,data:t.body.data,labels:t.body.boards,total:r})}})}},{key:"render",value:function(){if(this.state.loading)return u.a.createElement(h.a,null);var t=this.state,e=t.data,r=t.labels,n=t.total,a=this.props.classes;return u.a.createElement("div",{className:a.container},u.a.createElement("div",{className:a.headerContainer},u.a.createElement(g.a,{className:a.title},H.a[this.props.selectedLanguage].hoursIndex.totalHours),u.a.createElement("div",{className:a.line}),u.a.createElement("div",{className:a.grid},u.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px"}},u.a.createElement(g.a,{className:a.text},H.a[this.props.selectedLanguage].hoursIndex.from," ",this.props.startDate)),u.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px"}},u.a.createElement(g.a,{className:a.text},H.a[this.props.selectedLanguage].hoursIndex.to," ",this.props.endDate))),u.a.createElement("div",{style:{display:"flex",alignItems:"center",margin:"10px"}},u.a.createElement(g.a,{className:a.text},H.a[this.props.selectedLanguage].hoursIndex.filterBy," ",this.props.filterOption)),u.a.createElement("div",{className:a.line}),n>0&&u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(g.a,{className:a.text},H.a[this.props.selectedLanguage].hoursIndex.totalHours,"\xa0"),u.a.createElement(g.a,{className:a.text},Math.round(100*n)/100))),u.a.createElement("div",{className:a.wrapper},e.length>0&&u.a.createElement(L,{data:e,labels:r,params:[this.props.filterOption,this.props.startDate,this.props.endDate]}),!e.length&&u.a.createElement(g.a,{style:{textAlign:"center"}}," ",H.a[this.props.selectedLanguage].hoursIndex.noReported," ")))}}]),r}(s.Component),A=Object(p.b)(function(t){return{selectedLanguage:t.user.language}},function(t){return Object(l.b)({fetchVizHoursPerBoard:E.g,fetchVizHoursPerLabel:E.h,changeReportHours:O.b,notifyError:v.b},t)})(Object(y.withStyles)({wrapper:{height:"400px"},modalContent:{width:"500px",height:"400px"},title:{fontSize:"28px",fontFamiliy:'-apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", "Lucida Grande", Arial, sans-serif',color:"rgb(68, 68, 68)"},headerContainer:{margin:"30px",width:"auto"},text:{color:"#2a3d41",fontSize:16,fontWeight:"bold",marginTop:"10px",marginBottom:"10px"},selectText:{color:"#2a3d41",fontSize:14,fontWeight:"normal",marginTop:"10px",marginBottom:"10px",marginLeft:"10px"},grid:{display:"flex",width:"100%"},container:{height:"700px"},modalContainer:{height:"700px"},line:{width:"auto",height:"1px",backgroundColor:"#CCCCCC"}})(F));function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var z=function(t){Object(o.a)(r,t);var e=N(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={loading:!0},a}return Object(a.a)(r,[{key:"componentWillMount",value:function(){var t=this;this.props.selectProject(this.props.projectId),this.props.fetchProjectMembers(this.props.projectId).then(function(){t.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?u.a.createElement(h.a,null):u.a.createElement(s.Fragment,null,u.a.createElement(A,{projectId:this.props.projectId,startDate:this.props.startDate,endDate:this.props.endDate,filterOption:this.props.filterOption}))}}]),r}(s.Component);e.default=Object(p.b)(function(t,e){return{projectId:String(e.match.params.id),startDate:String(e.match.params.start_date),endDate:String(e.match.params.end_date),filterOption:String(e.match.params.filter_option)}},function(t){return Object(l.b)({selectProject:f.d,fetchProjectMembers:d.b},t)})(z)},622:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"d",function(){return o}),r.d(e,"e",function(){return c}),r.d(e,"f",function(){return i}),r.d(e,"a",function(){return s}),r.d(e,"c",function(){return u});var n=r(61),a=function(t){return{type:n.c,fetch:!0,url:"/projects/".concat(t,"/members/"),params:{method:"GET"}}},o=function(t,e){return{type:n.e,fetch:!0,url:"/tasks/".concat(t,"/assign/"),params:{method:"POST",body:e}}},c=function(t,e){return{type:n.f,fetch:!0,url:"/tasks/".concat(t,"/users/").concat(e,"/unassign/"),params:{method:"DELETE"}}},i=function(t,e,r){return{type:n.g,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"PUT",body:r}}},s=function(t,e){return{type:n.b,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"DELETE"}}},u=function(t,e){return{type:n.d,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"DELETE"}}}},626:function(t,e,r){"use strict";var n=r(1);r.d(e,"g",function(){return a}),r.d(e,"h",function(){return o}),r.d(e,"j",function(){return c}),r.d(e,"i",function(){return i}),r.d(e,"f",function(){return s}),r.d(e,"b",function(){return u}),r.d(e,"e",function(){return l}),r.d(e,"c",function(){return p}),r.d(e,"d",function(){return f}),r.d(e,"a",function(){return d});var a=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_BOARD",fetch:!0,url:"/viz/projects/".concat(t,"/hours_per_board"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},o=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_LABEL",fetch:!0,url:"/viz/boards/".concat(t,"/hours_per_label"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},c=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_USER",fetch:!0,url:"/viz/projects/".concat(t,"/hours_per_user"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},i=function(t,e,r){return{type:"FETCH_VIZ_HOURS_PER_TASK",fetch:!0,url:"/viz/projects/".concat(t,"/users/").concat(e,"/tasks"),params:{method:"GET"},queryParams:Object(n.a)({},r)}},s=function(t,e,r){return{type:"FETCH_VIZ_GITHUB",fetch:!0,url:"/viz/projects/".concat(t,"/users/").concat(e,"/github"),params:{method:"GET"},queryParams:Object(n.a)({},r)}},u=function(t){return{type:"FETCH_VIZ_LINKED_REPOS",fetch:!0,url:"/projects/".concat(t,"/repos"),params:{method:"GET"}}},l=function(t,e){return{type:"FETCH_VIZ_HOURS_TIMELINE",fetch:!0,url:"/viz/projects/".concat(t,"/users_timeline"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},p=function(t,e){return{type:"FETCH_VIZ_PR",fetch:!0,url:"/projects/".concat(t,"/gits/get_pull_requests"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},f=function(t,e){return{type:"FETCH_VIZ_PR_LEAD_TIME",fetch:!0,url:"/projects/".concat(t,"/gits/get_pr_lead_time"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},d=function(t,e){return{type:"FETCH_VIZ_COMMITS_PER_PR",fetch:!0,url:"/projects/".concat(t,"/gits/get_commits_of_all_pr"),params:{method:"GET"},queryParams:Object(n.a)({},e)}}},629:function(t,e,r){},632:function(t,e,r){"use strict";r.d(e,"f",function(){return a}),r.d(e,"a",function(){return o}),r.d(e,"b",function(){return c}),r.d(e,"e",function(){return i}),r.d(e,"d",function(){return s}),r.d(e,"c",function(){return u}),r.d(e,"g",function(){return l});var n=r(71),a=function(t){return{type:n.d,payload:{body:{id:t}}}},o=function(t){return{type:n.a,payload:{body:t}}},c=function(t){return{type:n.b,payload:{body:t}}},i=function(t){return{type:n.g,payload:{body:t}}},s=function(t){return{type:n.f,payload:{body:t}}},u=function(t){return{type:n.c,payload:{body:t}}},l=function(){return{type:n.e}}},637:function(t,e,r){"use strict";var n=Array.isArray,a=Object.keys,o=Object.prototype.hasOwnProperty;t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){var c,i,s,u=n(e),l=n(r);if(u&&l){if((i=e.length)!=r.length)return!1;for(c=i;0!==c--;)if(!t(e[c],r[c]))return!1;return!0}if(u!=l)return!1;var p=e instanceof Date,f=r instanceof Date;if(p!=f)return!1;if(p&&f)return e.getTime()==r.getTime();var d=e instanceof RegExp,h=r instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==r.toString();var m=a(e);if((i=m.length)!==a(r).length)return!1;for(c=i;0!==c--;)if(!o.call(r,m[c]))return!1;for(c=i;0!==c--;)if(!t(e[s=m[c]],r[s]))return!1;return!0}return e!==e&&r!==r}},712:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(e,"a",function(){return n})}}]);
//# sourceMappingURL=22.4402e1f1.chunk.js.map