(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1028:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(17),c=n(8),l=n(9),i=n(4),s=n(0),u=n.n(s),d=n(20),f=n(26),p=n(832),m=n.n(p),h=n(59),b=n.n(h),g=(n(670),n(46)),y=n.n(g),j=n(29),v=n(111),E=n(224),O=n(18),C=n(785),F=function(e,t){return{type:"FETCH_GET_ALL_N_LOGS",fetch:!0,url:"/projects/".concat(e,"/records"),params:{method:"GET"},queryParams:{page:t}}},P=n(126),S=n.n(P),x=n(27);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e){Object(c.a)(n,e);var t=k(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={logs:[],hasMoreItems:!0,loading:!0,oldDate:b()(),isFetching:!1,first:!0,projectId:""},r.handleClose=r.handleClose.bind(Object(o.a)(r)),r.fetchPage=r.fetchPage.bind(Object(o.a)(r)),r}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this.setState({projectId:this.props.projectId}),this.fetchPage(1)}},{key:"componentDidUpdate",value:function(){this.state.projectId!==this.props.projectId&&(this.setState({projectId:this.props.projectId,logs:[],hasMoreItems:!0,loading:!0,oldDate:b()(),isFetching:!1,first:!0}),this.fetchPage(1))}},{key:"fetchPage",value:function(e){var t=this;this.setState({isFetching:!0}),this.props.fetchGetLogs(this.props.projectId,e).then(function(e){t.setState(function(t){var n=JSON.parse(JSON.stringify(t.logs)),a=Boolean(e.body.length),r=t.loading?!t.loading:t.loading,o=t.first?!t.first:t.first,c=t.oldDate,l=t.oldDate;return e.body.forEach(function(e){var t=b()(e.created_at);t.isBefore(c)&&n.push(e),t.isBefore(l)&&(l=t)}),{logs:n,hasMoreItems:a,loading:r,oldDate:l,first:o}}),t.setState({isFetching:!1})}).catch(function(e){return t.setState({isFetching:!1})})}},{key:"handleClose",value:function(){this.props.toggleShowLogs()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isModal,r=t.selectedLanguage,o=t.userId;b.a.locale(r);var c=u.a.createElement(y.a,{className:n.heading},x.a[r].home.activity),l=u.a.createElement(y.a,{key:"loading",className:n.loading},x.a[r].home.loading,"..."),i=[];this.state.logs.forEach(function(e){var t="",a="",c="";i.push(u.a.createElement(s.Fragment,{key:e.created_at},u.a.createElement("div",{className:n.log,style:{backgroundColor:e.message[0].id===o?"#ea5941B0":"white"}},u.a.createElement("div",{className:n.info},e.message.forEach(function(e,n){var o=e;if(o in x.a[r].activity&&(o=x.a[r].activity[o]),0===n)t+=o.name,c+=o.image;else{var l="object"===typeof o?"<b>".concat(Object(v.g)(o.name,40),"</b>"):o;a+=l,a+=" "}}),u.a.createElement("div",{className:n.leftBlock},u.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%"}},(!c||"null"===c)&&u.a.createElement("img",{alt:"",className:n.customIcon,src:S.a}),c&&"null"!==c&&u.a.createElement("img",{alt:"",className:n.customIcon,src:c}),u.a.createElement(y.a,{className:n.name},Object(v.g)(t,40))),u.a.createElement(y.a,{className:n.description,dangerouslySetInnerHTML:{__html:a}})),u.a.createElement("div",{className:n.rightBlock},u.a.createElement(y.a,{className:n.date},b()(e.created_at).fromNow()))))))});var d=u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:200,minHeight:100}},u.a.createElement(O.a,{style:{position:"unset"}})),f=u.a.createElement("div",{style:{overflowY:"scroll",height:"80vh",overflowX:"hidden"},ref:function(t){e.scrollParentRef=t}},u.a.createElement(m.a,{pageStart:1,loadMore:this.fetchPage,hasMore:!this.state.isFetching&&this.state.hasMoreItems,getScrollParent:function(){return e.scrollParentRef},threshold:10,useWindow:!0},u.a.createElement("div",null,i),this.state.isFetching&&l));return this.state.first?u.a.createElement(s.Fragment,null,a?u.a.createElement(E.a,{open:!0,title:c,onClose:this.handleClose,clickClose:this.handleClose,onExited:this.handleClose,contentStyle:{padding:0}},u.a.createElement("div",null,d)):u.a.createElement(s.Fragment,null,u.a.createElement(y.a,{className:n.title},x.a[r].home.activity,":"),u.a.createElement("div",{className:n.container},d))):u.a.createElement(s.Fragment,null,a?u.a.createElement(E.a,{open:!0,title:c,onClose:this.handleClose,clickClose:this.handleClose,onExited:this.handleClose,contentStyle:{padding:0}},this.state.logs.length>0&&u.a.createElement("div",null,f),!this.state.logs.length&&u.a.createElement(y.a,{style:{margin:10}},x.a[r].home.noActivities,".")):u.a.createElement(s.Fragment,null,u.a.createElement(y.a,{className:n.title},x.a[r].home.activity,":"),u.a.createElement("div",{className:n.container},f)))}}]),n}(s.Component);t.a=Object(f.b)(function(e){return{projectId:e.modal.logs.selectedProject,selectedLanguage:e.user.language,userId:e.auth.id}},function(e){return Object(d.b)({toggleShowLogs:C.b,fetchGetLogs:F},e)})(Object(j.withStyles)(function(e){return{container:{container:{backgroundColor:"white",flex:1,maxWidth:"50%"}},title:{color:"#2a3d41",fontWeight:"bold",fontSize:16,margin:"20px 0px"},heading:{color:"#2a3d41",fontSize:e.typography.pxToRem(19),fontWeight:"bold",margin:0,marginTop:4},log:{borderTop:"1px solid #ccc",width:"95%",minWidth:"360px",margin:0,padding:20},info:{margin:0},loading:{textAlign:"center",color:"#2a3d41",fontSize:e.typography.pxToRem(12),marginTop:10},rightBlock:{display:"inline-block",float:"right"},leftBlock:{display:"inline-block",color:"#2a3d41"},img:{display:"inline-block"},name:{fontSize:e.typography.pxToRem(14),fontWeight:"bold",display:"inline-block",marginTop:3,marginLeft:10},description:{fontSize:e.typography.pxToRem(12)},date:{color:"#2a3d41",fontSize:e.typography.pxToRem(11)},customIcon:{height:"24px",width:"24px",display:"block","border-radius":"50%"}}})(R))},1029:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(e,t,n){return{type:"FETCH_IMPORT_BOARD",fetch:!0,url:"/import/board",params:{method:"POST",body:e},queryParams:{project_id:n,file_name:t}}},r=function(e,t){return{type:"FETCH_IMPORT_PROYECT",fetch:!0,url:"/import/project",params:{method:"POST",body:e},queryParams:{file_name:t}}}},1558:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(7),o=n(8),c=n(9),l=n(4),i=n(0),s=n.n(i),u=n(20),d=n(26),f=n(683),p=n(627),m=n(638),h=n(123),b=n(18),g=n(17),y=n(29),j=n(87),v=n.n(j),E=n(109),O=n.n(E),C=n(46),F=n.n(C),P=n(192),S=n.n(P),x=n(833),k=n.n(x),R=n(834),N=n.n(R),I=n(689),w=n.n(I),D=n(230),T=n(171),B=function(e){return{type:T.a,payload:{body:{folderId:e}}}},_=function(e,t){return{type:T.c,payload:{body:{id:e,folderId:t}}}},A=function(e,t){return{type:T.b,payload:{body:{id:e,folderId:t}}}},L=n(170),U=function(){return{type:L.a,payload:{body:{}}}},G=function(e){return{type:L.c,payload:{body:{id:e}}}},z=function(e){return{type:L.b,payload:{body:{id:e}}}},W=n(864),H=n(1029),M=n(85),q=n(224),J=n(222),V=n(179),Y=n(221);function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var K=function(e){Object(o.a)(n,e);var t=X(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={name:e.oldValue},r.onClose=r.onClose.bind(Object(g.a)(r)),r.onSubmit=r.onSubmit.bind(Object(g.a)(r)),r.nameChange=r.nameChange.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"onClose",value:function(e){e&&e.stopPropagation(),this.props.onClose()}},{key:"onSubmit",value:function(e){e&&e.stopPropagation(),this.props.onSubmit(e,this.state.name)}},{key:"nameChange",value:function(e){this.setState({name:e})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.title,a=this.state.name,r=s.a.createElement("div",null,s.a.createElement(Y.a,{type:"submit",onClick:this.onSubmit,loading:t},n.toUpperCase()));return s.a.createElement(q.a,{open:!0,title:n,footer:r,onClose:this.onClose,clickClose:this.onClose},s.a.createElement(J.a,{onSubmit:this.onSubmit},s.a.createElement(V.a,{onChange:this.nameChange,type:"name",name:a,value:a,fullWidth:!0,label:"Name",required:!0,id:"name",autoFocus:!0})))}}]),n}(i.Component),Q=Object(d.b)(function(e){return{isFetching:e.app.isFetching}},function(e){return Object(u.b)({},e)})(K);function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var $=function(e){Object(o.a)(n,e);var t=Z(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCloseFolder=r.handleCloseFolder.bind(Object(g.a)(r)),r.handleCreateSubmit=r.handleCreateSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseFolder",value:function(){this.props.toggleCreateFolderForm()}},{key:"handleCreateSubmit",value:function(e,t){var n=this;e&&e.preventDefault();var a=t.trim();""!==a?this.props.fetchCreateFolder({name:a}).then(function(e){e.ok&&(n.handleCloseFolder(),n.props.notifySuccess("Folder created"))}):this.props.notifyError("Name field cannot be empty")}},{key:"render",value:function(){return s.a.createElement(Q,{oldValue:"",title:"Create Folder",onSubmit:this.handleCreateSubmit,onClose:this.handleCloseFolder})}}]),n}(i.Component),ee=Object(d.b)(function(){return{}},function(e){return Object(u.b)({toggleCreateFolderForm:U,fetchCreateFolder:f.a,notifySuccess:M.c,notifyError:M.b},e)})($);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var ne=function(e){Object(o.a)(n,e);var t=te(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCloseFolder=r.handleCloseFolder.bind(Object(g.a)(r)),r.handleEditSubmit=r.handleEditSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseFolder",value:function(){this.props.toggleEditFolderForm()}},{key:"handleEditSubmit",value:function(e,t){var n=this;e&&e.preventDefault();var a=this.props.folder,r=t.trim();""!==r&&a.name!==r?this.props.fetchUpdateFolder(a.id,{name:r}).then(function(e){e.ok&&(n.handleCloseFolder(),n.props.notifySuccess("Folder updated"))}):this.props.notifyError("Field name cannot be empty")}},{key:"render",value:function(){var e=this.props.folder;return s.a.createElement(Q,{oldValue:e.name,title:"Edit Folder",onSubmit:this.handleEditSubmit,onClose:this.handleCloseFolder})}}]),n}(i.Component),ae=Object(d.b)(function(e,t){return{folder:Object(D.c)(t,e)}},function(e){return Object(u.b)({toggleEditFolderForm:G,fetchUpdateFolder:f.d,notifySuccess:M.c,notifyError:M.b},e)})(ne);function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var oe=function(e){Object(o.a)(n,e);var t=re(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCloseFolder=r.handleCloseFolder.bind(Object(g.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseFolder",value:function(){this.props.toggleDeleteFolderForm()}},{key:"handleSubmit",value:function(e){var t=this;e&&e.preventDefault();var n=this.props.folder;this.handleCloseFolder(),this.props.fetchDeleteFolder(n.id).then(function(e){e.ok&&t.props.notifySuccess("Folder deleted")})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.folder,a="Delete Folder ".concat(n.name),r=s.a.createElement("div",{style:{flex:1,display:"flex"}},s.a.createElement("div",{style:{flex:1}}),s.a.createElement(Y.a,{type:"submit",onClick:this.handleCloseFolder,style:{marginRight:10}},"No"),s.a.createElement(Y.a,{type:"submit",onClick:this.handleSubmit,loading:t},"Yes"));return s.a.createElement(q.a,{open:!0,title:a,footer:r,onClose:this.handleCloseFolder,clickClose:this.handleCloseFolder,hideClose:!0},s.a.createElement(J.a,{onSubmit:this.handleSubmit},s.a.createElement(F.a,null,'Are you sure you want to delete folder "',n.name,'"?')))}}]),n}(i.Component),ce=Object(d.b)(function(e,t){return{isFetching:e.app.isFetching,folder:Object(D.c)(t,e)}},function(e){return Object(u.b)({toggleDeleteFolderForm:z,fetchDeleteFolder:f.b,notifySuccess:M.c},e)})(oe),le=Object(d.b)(function(e){return{folderCreating:e.modal.folders.folderCreating,folderEditing:e.modal.folders.folderEditing,folderDeleting:e.modal.folders.folderDeleting}},function(e){return Object(u.b)({},e)})(function(e){var t=e.folderCreating,n=e.folderEditing,a=e.folderDeleting;return s.a.createElement(i.Fragment,null,t&&s.a.createElement(ee,null),n&&s.a.createElement(ae,null),a&&s.a.createElement(ce,null))});function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var se=function(e){Object(o.a)(n,e);var t=ie(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCloseProject=r.handleCloseProject.bind(Object(g.a)(r)),r.handleCreateSubmit=r.handleCreateSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseProject",value:function(){this.props.toggleCreateProjectForm()}},{key:"handleCreateSubmit",value:function(e,t){var n=this;e&&e.preventDefault();var a=this.props,r=a.folderId,o=a.projectTotal,c=a.maxProjects,l=t.trim();""!==l?o<c?this.props.fetchCreateProject({name:l,folder_id:r}).then(function(e){e.ok&&(n.handleCloseProject(),n.props.notifySuccess("Project created"))}):this.props.notifyError("Project limit reached"):this.props.notifyError("Field name cannot be empty")}},{key:"render",value:function(){return s.a.createElement(Q,{oldValue:"",title:"Create Project",onSubmit:this.handleCreateSubmit,onClose:this.handleCloseProject})}}]),n}(i.Component),ue=Object(d.b)(function(e,t){return{folderId:e.modal.projects.selectedFolder,projectTotal:Object(D.d)(t,e),maxProjects:Number(e.auth.maxProjects)}},function(e){return Object(u.b)({toggleCreateProjectForm:B,fetchCreateProject:p.a,notifySuccess:M.c,notifyError:M.b},e)})(se);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var fe=function(e){Object(o.a)(n,e);var t=de(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={name:e.oldValue,folder:e.folders.filter(function(t){return t.id===e.oldFolder})[0].name},r.onClose=r.onClose.bind(Object(g.a)(r)),r.onSubmit=r.onSubmit.bind(Object(g.a)(r)),r.nameChange=r.nameChange.bind(Object(g.a)(r)),r.folderChange=r.folderChange.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"onClose",value:function(e){e&&e.stopPropagation(),this.props.onClose()}},{key:"onSubmit",value:function(e){e&&e.stopPropagation(),this.props.onSubmit(e,{name:this.state.name,folder:this.state.folder})}},{key:"nameChange",value:function(e){this.setState({name:e})}},{key:"folderChange",value:function(e){this.setState({folder:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.title,a=this.state.name,r=s.a.createElement("div",null,s.a.createElement(Y.a,{type:"submit",onClick:this.onSubmit,loading:t},n.toUpperCase()));return s.a.createElement(q.a,{open:!0,title:n,footer:r,onClose:this.onClose,clickClose:this.onClose},s.a.createElement(J.a,{onSubmit:this.onSubmit},s.a.createElement(V.a,{onChange:this.nameChange,type:"name",name:a,value:a,fullWidth:!0,label:"Name",required:!0,id:"name",autoFocus:!0})))}}]),n}(i.Component),pe=Object(d.b)(function(e){return{isFetching:e.app.isFetching}},function(e){return Object(u.b)({},e)})(fe),me=n(223);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var be=function(e){Object(o.a)(n,e);var t=he(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCloseProject=r.handleCloseProject.bind(Object(g.a)(r)),r.handleEditSubmit=r.handleEditSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseProject",value:function(){this.props.toggleEditProjectForm()}},{key:"handleEditSubmit",value:function(e,t){var n=this;e&&e.preventDefault();var a=this.props,r=a.project,o=a.folders,c=t.name,l=t.folder,i=c.trim(),s=o.filter(function(e){return e.name===l})[0].id;""!==i?i!==r.name||s!==r.folder_id?this.props.fetchUpdateProject(r.id,{name:i,old_folder_id:r.folder_id,new_folder_id:s}).then(function(e){e.ok&&(n.handleCloseProject(),n.props.notifySuccess("Project updated"))}):this.props.notifyError("No changes detected"):this.props.notifyError("Field name cannot be empty")}},{key:"render",value:function(){var e=this.props,t=e.folders,n=e.project;return s.a.createElement(pe,{oldValue:n.name,oldFolder:n.folder_id,title:"Edit Project",onSubmit:this.handleEditSubmit,onClose:this.handleCloseProject,folders:t})}}]),n}(i.Component),ge=Object(d.b)(function(e,t){return{project:Object(me.f)(t,e),folders:Object(D.a)(t,e)}},function(e){return Object(u.b)({toggleEditProjectForm:_,fetchUpdateProject:p.m,notifySuccess:M.c,notifyError:M.b},e)})(be),ye=n(27);function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var ve=function(e){Object(o.a)(n,e);var t=je(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCloseProject=r.handleCloseProject.bind(Object(g.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseProject",value:function(){this.props.toggleDeleteProjectForm()}},{key:"handleSubmit",value:function(e){var t=this;e&&e.preventDefault();var n=this.props,a=n.folder,r=n.selectedLanguage;this.handleCloseProject(),this.props.fetchDeleteProject(a.id).then(function(e){e.ok&&t.props.notifySuccess(ye.a[r].modals.projectDeleted)})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.folder,a=e.selectedLanguage,r="".concat(ye.a[a].modals.deleteProject," ").concat(n.name),o=s.a.createElement("div",{style:{flex:1,display:"flex"}},s.a.createElement("div",{style:{flex:1}}),s.a.createElement(Y.a,{type:"submit",onClick:this.handleCloseProject,style:{marginRight:10}},ye.a[a].modals.no),s.a.createElement(Y.a,{type:"submit",onClick:this.handleSubmit,loading:t},ye.a[a].modals.yes));return s.a.createElement(q.a,{open:!0,title:r,footer:o,onClose:this.handleCloseProject,clickClose:this.handleCloseProject,hideClose:!0},s.a.createElement(J.a,{onSubmit:this.handleSubmit},s.a.createElement(F.a,null,ye.a[a].modals.sureDeleteProject,' "',n.name,'"?')))}}]),n}(i.Component);ve.defaultProps={isFetching:!1};var Ee=Object(d.b)(function(e,t){return{isFetching:e.app.isFetching,folder:Object(me.f)(t,e),selectedLanguage:e.user.language}},function(e){return Object(u.b)({toggleDeleteProjectForm:A,fetchDeleteProject:p.b,notifySuccess:M.c},e)})(ve),Oe=Object(d.b)(function(e){return{projectCreating:e.modal.projects.projectCreating,projectEditing:e.modal.projects.projectEditing,projectDeleting:e.modal.projects.projectDeleting}},function(e){return Object(u.b)({},e)})(function(e){var t=e.projectCreating,n=e.projectEditing,a=e.projectDeleting;return s.a.createElement(i.Fragment,null,t&&s.a.createElement(ue,null),n&&s.a.createElement(ge,null),a&&s.a.createElement(Ee,null))}),Ce=n(229),Fe=n.n(Ce),Pe=n(233),Se=n.n(Pe),xe=n(226),ke=n.n(xe),Re=n(631),Ne=n.n(Re),Ie=n(225),we=n.n(Ie),De=n(100),Te=n(758);function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var _e=function(e){Object(o.a)(n,e);var t=Be(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).nameChange=function(e){r.setState({name:e.target.value})},r.state={name:""},r.handleCloseAccept=r.handleCloseAccept.bind(Object(g.a)(r)),r.handleCreateSubmit=r.handleCreateSubmit.bind(Object(g.a)(r)),r.nameChange=r.nameChange.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleCloseAccept",value:function(){this.props.toggleAcceptInvitationForm()}},{key:"handleCreateSubmit",value:function(e){var t=this;e&&e.preventDefault();var n=this.state.name;""===n?this.props.notifyError("Folder field cannot be empty"):this.props.fetchAcceptInvitation(this.props.invitationId,{folder_id:n}).then(function(e){e.ok&&(t.props.notifySuccess("You joined the project succesfully"),t.handleCloseAccept())})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.folders,a=this.handleCreateSubmit,r=s.a.createElement("div",null,s.a.createElement(Y.a,{type:"submit",onClick:a,loading:t},"Submit"));return s.a.createElement(q.a,{open:!0,title:"Choose folder to save project",footer:r,onClose:this.handleCloseAccept,clickClose:this.handleCloseAccept,onEnter:this.handleEnter},s.a.createElement(J.a,{onSubmit:a},s.a.createElement(Fe.a,{style:{minWidth:120}},s.a.createElement(Se.a,{htmlFor:"folder"},"Folders"),s.a.createElement(Ne.a,{value:this.state.name,onChange:this.nameChange,input:s.a.createElement(ke.a,{id:"folder"})},n.map(function(e){return s.a.createElement(we.a,{key:e.id,value:e.id},e.name)})))))}}]),n}(i.Component),Ae=Object(d.b)(function(e,t){return{isFetching:e.app.isFetching,folders:Object(D.a)(t,e),invitationId:e.modal.invitations.selectedInvitation}},function(e){return Object(u.b)({notifySuccess:M.c,notifyError:M.b,fetchAcceptInvitation:De.a,toggleAcceptInvitationForm:Te.a},e)})(_e),Le=Object(d.b)(function(e){return{invitationAccepting:e.modal.invitations.invitationAccepting}},function(e){return Object(u.b)({},e)})(function(e){var t=e.invitationAccepting;return s.a.createElement(i.Fragment,null,t&&s.a.createElement(Ae,null))}),Ue=function(){return s.a.createElement(i.Fragment,null,s.a.createElement(le,null),s.a.createElement(Oe,null),s.a.createElement(Le,null))},Ge=n(701),ze=n(669),We=n.n(ze),He=n(663),Me=n.n(He),qe=n(901),Je=n.n(qe),Ve=n(178),Ye=n.n(Ve),Xe=n(86),Ke=n.n(Xe),Qe=n(742),Ze=n(603),$e=n(1032),et=n.n($e),tt=n(1168),nt=n.n(tt),at=n(111);function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var ot=function(e){Object(o.a)(n,e);var t=rt(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).makeFavorite=r.makeFavorite.bind(Object(g.a)(r)),r.handleEditProject=r.handleEditProject.bind(Object(g.a)(r)),r.handleDeleteProject=r.handleDeleteProject.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleEditProject",value:function(e){e&&e.stopPropagation();var t=this.props.project;this.props.toggleEditProjectForm(t.id)}},{key:"makeFavorite",value:function(e){var t=this.props.project;e&&e.stopPropagation(),this.props.fetchUpdateFavorite(t.id)}},{key:"handleDeleteProject",value:function(e){e&&e.stopPropagation();var t=this.props.project;this.props.toggleDeleteProjectForm(t.id)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.project,r=t.boardCount,o=t.selectedLanguage;return s.a.createElement(i.Fragment,null,s.a.createElement(Ge.b,{key:a.id,draggableId:a.id},function(t,c){return s.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),!c.isDragging&&s.a.createElement("div",null,s.a.createElement(v.a,{container:!0,direction:"row",alignItems:"flex-end",className:n.root},s.a.createElement(w.a,{className:n.fileIcon}),s.a.createElement(Ze.a,{to:"/project/".concat(a.id),style:{textDecoration:"none"}},s.a.createElement(Ke.a,{placement:"top-start",title:a.name},s.a.createElement(F.a,{className:n.title},Object(at.g)(a.name,27)))),s.a.createElement(F.a,{className:n.subtitle},1===r?ye.a[o].home.oneBoard:"".concat(r," ").concat(ye.a[o].home.boards)),s.a.createElement("div",{className:n.grow}),"owner"===a.role&&s.a.createElement(i.Fragment,null,s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.editName},s.a.createElement(Me.a,{onClick:e.handleEditProject,className:n.icon})),s.a.createElement(Ye.a,{className:n.iconDivider}),s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.deleteProject},s.a.createElement(We.a,{onClick:e.handleDeleteProject,className:n.icon}))),s.a.createElement(Ye.a,{className:n.iconDivider}),a.is_favorite&&s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.removeFavorites},s.a.createElement(et.a,{onClick:e.makeFavorite,className:n.heartIcon})),!a.is_favorite&&s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.addToFavorites},s.a.createElement(nt.a,{onClick:e.makeFavorite,className:n.heartIcon}))),s.a.createElement(Ye.a,{style:{backgroundColor:"#EEE"}})),c.isDragging&&s.a.createElement("div",null,s.a.createElement(v.a,{container:!0,direction:"row",alignItems:"flex-end",className:n.dragOn},s.a.createElement(w.a,{className:n.fileIcon}),s.a.createElement(Ke.a,{placement:"top-start",title:a.name},s.a.createElement(F.a,{className:n.title},Object(at.g)(a.name,20))))))}))}}]),n}(i.Component),ct=Object(d.b)(function(e,t){return{boardCount:Object(me.b)(t,e),selectedLanguage:e.user.language}},function(e){return Object(u.b)({fetchUpdateFavorite:p.l,toggleEditProjectForm:_,toggleDeleteProjectForm:A},e)})(Object(y.withStyles)(function(e){return{root:{padding:"10px 20px"},dragOn:{padding:"10px 0px",marginLeft:"25%",height:"40px",width:"40%",backgroundColor:"#c7c7c7"},fileIcon:{alignSelf:"center",color:"#ea5941",marginRight:8},title:{color:"#2a3d41",margin:"-3px 3px",fontSize:e.typography.pxToRem(14),fontWeight:"bold",cursor:"pointer","&:hover":{color:"#ca3921"}},subtitle:{fontSize:e.typography.pxToRem(12),marginLeft:10,marginBottom:-3,color:"#a4a4a4"},grow:{flexGrow:1},dropdownIcon:{color:"#ea5941"},iconDivider:{alignSelf:"center",backgroundColor:"#888",width:1,height:25},icon:{alignSelf:"center",color:"#2a3d41",padding:"0px 5px",width:20,cursor:"pointer","&:hover":{color:"#ca3921"}},iconFav:{alignSelf:"center",color:"white",padding:"0px 5px",width:20,cursor:"pointer","&:hover":{color:"#ca3921"}},heartIcon:{alignSelf:"center",color:"#ea5941",padding:"0px 5px",width:20,cursor:"pointer","&:hover":{color:"#ca3921"}}}})(ot)),lt=Object(d.b)(function(e,t){return{projects:Object(me.i)(t,e)}},function(e){return Object(u.b)({},e)})(function(e){var t=e.projects;return s.a.createElement(i.Fragment,null,t.map(function(e){return s.a.createElement(ct,{favorite:!1,project:e,key:e.id})}))});function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var st=function(e){Object(o.a)(n,e);var t=it(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleCreateProject=r.handleCreateProject.bind(Object(g.a)(r)),r.handleEditFolder=r.handleEditFolder.bind(Object(g.a)(r)),r.handleDeleteFolder=r.handleDeleteFolder.bind(Object(g.a)(r)),r.handleExpand=r.handleExpand.bind(Object(g.a)(r)),r.state={expanded:!1},r}return Object(r.a)(n,[{key:"handleCreateProject",value:function(e){e&&e.stopPropagation();var t=this.props.folder;this.props.toggleCreateProjectForm(t.id)}},{key:"handleEditFolder",value:function(e){e&&e.stopPropagation();var t=this.props.folder;this.props.toggleEditFolderForm(t.id)}},{key:"handleDeleteFolder",value:function(e){e&&e.stopPropagation();var t=this.props,n=t.folder,a=t.selectedLanguage;n.projects&&n.projects.length>0?this.props.notifyError(ye.a[a].home.canNotRemoveFolder):this.props.toggleDeleteFolderForm(n.id)}},{key:"handleExpand",value:function(){this.state.expanded.expanded?this.setState({expanded:!1}):this.setState({expanded:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.folder,a=t.projectCount,r=t.classes,o=t.selectedLanguage;return s.a.createElement(i.Fragment,null,s.a.createElement("div",null,s.a.createElement(Ge.c,{droppableId:n.id},function(t,c){return s.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,t.droppablePlaceholder),s.a.createElement(Qe.a,{onChange:e.handleExpand,summaryStyle:{backgroundColor:c.isDraggingOver?"#959595":"#f9f9f9",padding:"0 24px 0 10px"},summary:s.a.createElement(v.a,{container:!0,alignItems:"center",className:r.projectContainer},s.a.createElement(S.a,{className:r.folderIcon}),s.a.createElement(Ke.a,{placement:"top-start",title:n.name},s.a.createElement(F.a,{className:r.title},Object(at.g)(n.name,14))),s.a.createElement(F.a,{className:r.subtitle},s.a.createElement(w.a,{className:r.fileIcon}),a?"".concat(a):"0","\xa0",1===a?ye.a[o].home.project:ye.a[o].home.projects),s.a.createElement("div",{style:{flexGrow:1}}),s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.createProject},s.a.createElement("div",{role:"presentation",onKeyPress:e.handleCreateProject,onClick:e.handleCreateProject,className:r.addIcon},s.a.createElement(Je.a,{style:{fontSize:15}}),s.a.createElement(w.a,{style:{fontSize:20}}))),s.a.createElement(Ye.a,{className:r.iconDivider}),s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.editFolder},s.a.createElement(Me.a,{onClick:e.handleEditFolder,className:r.icon})),s.a.createElement(Ye.a,{className:r.iconDivider}),s.a.createElement(Ke.a,{placement:"top-start",title:ye.a[o].home.deleteFolder},s.a.createElement(We.a,{onClick:e.handleDeleteFolder,className:r.icon})))},s.a.createElement(v.a,{container:!0,style:{display:!e.state.expanded&&"none"}},s.a.createElement(v.a,{item:!0,style:{flex:.05}}),s.a.createElement(v.a,{item:!0,style:{flex:.95}},a>0?s.a.createElement(lt,{folderId:n.id}):!c.isDraggingOver&&s.a.createElement(F.a,{className:r.emptyText},ye.a[o].home.empty)),s.a.createElement("div",null,t.placeholder))))})))}}]),n}(i.Component),ut=Object(d.b)(function(e,t){return{projectCount:Object(D.e)(t,e),selectedLanguage:e.user.language}},function(e){return Object(u.b)({toggleCreateProjectForm:B,notifyError:M.b,toggleEditFolderForm:G,toggleDeleteFolderForm:z},e)})(Object(y.withStyles)(function(e){return{folderIcon:{color:"#ea5941",marginRight:8,alignSelf:"center"},title:{color:"#2a3d41",fontSize:e.typography.pxToRem(15),fontWeight:"bold",alignSelf:"flex-end","&:hover":{color:"#ca3921"}},subtitle:{fontSize:12,marginLeft:10,color:"#a4a4a4",display:"right",alignItems:"marginRight"},fileIcon:{color:"#cccccc",width:15,marginRight:4},iconDivider:{width:1,height:25},icon:{fontSize:20,color:"#2a3d41",padding:"0px 5px","&:hover":{color:"#ca3921"}},addIcon:{display:"flex",alignItems:"center",color:"#2a3d41",padding:"0px 5px","&:hover":{color:"#ca3921"}},emptyText:{color:"#999",alignSelf:"center",margin:10},projectContainer:{minWidth:"380px"}}})(st));function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var ft=function(e){Object(o.a)(n,e);var t=dt(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onDragEnd=r.onDragEnd.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"onDragEnd",value:function(e){var t=this,n=e.source,a=e.destination,r=e.draggableId;if(a)n.droppableId!==a.droppableId&&this.props.fetchUpdateProject(r,{old_folder_id:n.droppableId,new_folder_id:a.droppableId}).then(function(e){e.ok&&t.props.notifySuccess("Project updated")});else{var o=this.props.folders.find(function(e){return"<DefaultFolder>"===e.name});if(n.droppableId===o.id)return;this.props.fetchUpdateProject(r,{old_folder_id:n.droppableId,new_folder_id:o.id}).then(function(e){e.ok&&t.props.notifySuccess("Project updated")})}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.folders,a=e.selectedLanguage,r=n.find(function(e){return"<DefaultFolder>"===e.name});return s.a.createElement(Ge.a,{onDragEnd:this.onDragEnd},s.a.createElement(i.Fragment,null,s.a.createElement(F.a,{className:t.title},ye.a[a].home.folders,":"),s.a.createElement("div",{className:t.container},n.map(function(e){return s.a.createElement(i.Fragment,{key:e.id},e.id!==r.id&&s.a.createElement(ut,{folder:e}))}),s.a.createElement(i.Fragment,null,s.a.createElement(Ge.c,{droppableId:r.id},function(e){return s.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,e.droppablePlaceholder),s.a.createElement("div",{style:{flex:1,minHeight:"20px"}},s.a.createElement(lt,{folderId:r.id})),s.a.createElement("div",{style:{minHeight:"100px",height:"100%"}}),s.a.createElement("div",{style:{display:"none"}},e.placeholder))})))))}}]),n}(i.Component),pt=Object(d.b)(function(e){return{selectedLanguage:e.user.language}},function(e){return Object(u.b)({fetchUpdateProject:p.m,notifySuccess:M.c},e)})(Object(y.withStyles)({title:{color:"#2a3d41",fontWeight:"bold",fontSize:16,margin:"20px 0px"},container:{backgroundColor:"white",flex:1}})(ft)),mt=n(831),ht=n.n(mt),bt=n(785);function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var yt=function(e){Object(o.a)(n,e);var t=gt(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={isHovering:!1},r.makeFavorite=r.makeFavorite.bind(Object(g.a)(r)),r.handleEditProject=r.handleEditProject.bind(Object(g.a)(r)),r.showActivity=r.showActivity.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"componentWillUnmount",value:function(){this.props.changeHoverProject({projectId:""})}},{key:"handleEditProject",value:function(e){e&&e.stopPropagation();var t=this.props.project;this.props.toggleEditProjectForm(t.id)}},{key:"makeFavorite",value:function(e){e&&e.stopPropagation();var t=this.props.project;this.props.fetchUpdateFavorite(t.id)}},{key:"showActivity",value:function(){var e=this.props,t=e.project,n=e.onSelect,a=e.selected;n(t.id),a?this.props.changeHoverProject({projectId:""}):this.props.changeHoverProject({projectId:this.props.project.id})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.project,a=e.boardCount,r=e.selectedLanguage,o=e.selected,c=ye.a[r];return s.a.createElement("div",null,s.a.createElement(v.a,{container:!0,direction:"row",alignItems:"flex-end",className:t.root},s.a.createElement(w.a,{className:t.fileIcon}),s.a.createElement(Ze.a,{to:"/project/".concat(n.id),style:{textDecoration:"none"}},s.a.createElement("div",null,"<DefaultFolder>"!==n.folder.name&&s.a.createElement(F.a,{className:t.overTitle},s.a.createElement(S.a,{className:t.folderIcon}),n.folder.name),s.a.createElement(Ke.a,{placement:"top-start",title:n.name},s.a.createElement(F.a,{className:t.titleFav},Object(at.g)(n.name,31))))),s.a.createElement(F.a,{className:t.subtitle},1===a?c.home.oneBoard:"".concat(a," ").concat(c.home.boards)),s.a.createElement("div",{className:t.grow}),"owner"===n.role&&s.a.createElement(i.Fragment,null,s.a.createElement(Ke.a,{placement:"top-start",title:c.home.editName},s.a.createElement(Me.a,{onClick:this.handleEditProject,className:t.icon})),s.a.createElement(Ye.a,{className:t.iconDivider})),s.a.createElement(Ke.a,{placement:"top-start",title:c.home.removeFavorites},s.a.createElement(et.a,{onClick:this.makeFavorite,className:t.heartIcon})),s.a.createElement(Ke.a,{placement:"top-start",title:o?c.home.hideActivity:c.home.showActivity},s.a.createElement(ht.a,{onClick:this.showActivity,className:o?t.heartIcon:t.icon}))),s.a.createElement(Ye.a,{style:{backgroundColor:"#EEE"}}))}}]),n}(i.Component),jt=Object(d.b)(function(e,t){return{boardCount:Object(me.b)(t,e),selectedLanguage:e.user.language}},function(e){return Object(u.b)({fetchUpdateFavorite:p.l,toggleEditProjectForm:_,toggleDeleteProjectForm:A,changeHoverProject:bt.a},e)})(Object(y.withStyles)(function(e){return{root:{padding:"10px 20px",minWidth:380},fileIcon:{alignSelf:"center",color:"#ea5941",marginRight:8},titleFav:{color:"white",margin:"-3px 3px",fontSize:e.typography.pxToRem(14),fontWeight:"bold",cursor:"pointer","&:hover":{color:"#ca3921"}},subtitle:{fontSize:e.typography.pxToRem(12),marginLeft:10,marginBottom:-3,color:"#a4a4a4"},overTitle:{display:"flex",alignItems:"center",color:"#a4a4a4",fontWeight:"bold",fontSize:13},folderIcon:{fontSize:13,marginRight:3,color:"#cccccc"},grow:{flexGrow:1},dropdownIcon:{color:"#ea5941"},iconDivider:{alignSelf:"center",backgroundColor:"#888",width:1,height:25},icon:{alignSelf:"center",color:"white",padding:"0px 5px",width:20,"&:hover":{color:"#ca3921",cursor:"pointer"}},iconFav:{alignSelf:"center",color:"white",padding:"0px 5px",width:20,cursor:"pointer","&:hover":{color:"#ca3921"}},heartIcon:{alignSelf:"center",color:"#ea5941",padding:"0px 5px",width:20,cursor:"pointer","&:hover":{color:"#ca3921"}}}})(yt));function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var Et=function(e){Object(o.a)(n,e);var t=vt(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={projectActivity:""},r.handleSelectProject=r.handleSelectProject.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleSelectProject",value:function(e){e===this.state.projectActivity?this.setState({projectActivity:""}):this.setState({projectActivity:e})}},{key:"render",value:function(){var e=this,t=this.state.projectActivity,n=this.props,a=n.classes,r=n.projects,o=n.selectedLanguage;return s.a.createElement(i.Fragment,null,s.a.createElement(F.a,{className:a.title},ye.a[o].home.favoriteProjects,":"),s.a.createElement("div",{className:a.container},r.map(function(n){return s.a.createElement(jt,{project:n,key:n.id,selected:n.id===t,onSelect:e.handleSelectProject})}),!r.length&&s.a.createElement(F.a,{className:a.warning},ye.a[o].home.noFavoriteProjects)))}}]),n}(i.Component),Ot=Object(d.b)(function(e,t){return{projects:Object(me.a)(t,e),selectedLanguage:e.user.language}},function(e){return Object(u.b)({},e)})(Object(y.withStyles)({container:{backgroundColor:"#2a3d41",flex:1,display:"flex",flexDirection:"column"},title:{color:"#2a3d41",fontWeight:"bold",fontSize:16,margin:"20px 0px"},warning:{fontSize:14,color:"#999",alignSelf:"center",margin:20}})(Et)),Ct=n(1028);function Ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var Pt=function(e){Object(o.a)(n,e);var t=Ft(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleAddFolder=r.handleAddFolder.bind(Object(g.a)(r)),r.handleAddProject=r.handleAddProject.bind(Object(g.a)(r)),r.handleDownloadProjects=r.handleDownloadProjects.bind(Object(g.a)(r)),r.handleUploadProject=r.handleUploadProject.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleAddFolder",value:function(){this.props.toggleCreateFolderForm()}},{key:"handleAddProject",value:function(){var e=this.props.folders.find(function(e){return"<DefaultFolder>"===e.name});this.props.toggleCreateProjectForm(e.id)}},{key:"handleDownloadProjects",value:function(){this.props.fetchExportProjectsUser().then(function(e){if(200===e.status){var t=document.createElement("a"),n=JSON.stringify(e.body,null,"\t"),a=new Blob([n],{type:"application/json"});t.href=URL.createObjectURL(a),t.download="export_projects.json",document.body.appendChild(t),t.click()}})}},{key:"handleUploadProject",value:function(e){var t=this,n=this.props.selectedLanguage,a=new FileReader;a.readAsText(e.target.files[0],"UTF-8"),a.onload=function(e){console.log(JSON.parse(e.target.result)),console.log(Object(H.b)(JSON.parse(e.target.result))),t.props.fetchImportProject(JSON.parse(e.target.result),"import-proyect").then(function(e){console.log(e),200===e.status&&t.props.notifySuccess(ye.a[n].app.uploadComplete)})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.hoverId,r=t.selectedLanguage,o=t.folders;return s.a.createElement(i.Fragment,null,s.a.createElement(Ue,null),s.a.createElement(v.a,{className:n.root,container:!0,justify:"center"},s.a.createElement("div",null,s.a.createElement(O.a,{size:"small",color:"secondary",onClick:this.handleAddFolder,className:n.addFolderButton},s.a.createElement(F.a,{className:n.addFolderText},"+ "),s.a.createElement(S.a,{className:n.folderIcon}),s.a.createElement(F.a,{className:n.addFolderText},ye.a[r].home.addFolder)),s.a.createElement(O.a,{size:"small",color:"secondary",onClick:this.handleAddProject,className:n.addFolderButton},s.a.createElement(F.a,{className:n.addFolderText},"+ "),s.a.createElement(w.a,{className:n.folderIcon}),s.a.createElement(F.a,{className:n.addFolderText},ye.a[r].home.addProject)),s.a.createElement(O.a,{size:"small",color:"secondary",onClick:this.handleDownloadProjects,className:n.addFolderButton},s.a.createElement(F.a,{className:n.addFolderText}),s.a.createElement(k.a,{className:n.folderIcon}),s.a.createElement(F.a,{className:n.addFolderText},ye.a[r].home.downloadProjects)),s.a.createElement("input",{accept:"application/JSON",className:n.input,style:{display:"none"},id:"raised-button-file",type:"file",onChange:function(t){return e.handleUploadProject(t)}}),s.a.createElement("label",{htmlFor:"raised-button-file"},s.a.createElement(O.a,{size:"small",color:"secondary",className:n.addFolderButton,component:"span"},s.a.createElement(F.a,{className:n.addFolderText}),s.a.createElement(N.a,{className:n.folderIcon}),s.a.createElement(F.a,{className:n.addFolderText},ye.a[r].home.uploadProjects)))),s.a.createElement(v.a,{container:!0,style:{flex:1}},s.a.createElement(v.a,{className:n.container,item:!0},s.a.createElement(pt,{folders:o})),s.a.createElement(v.a,{className:n.container,item:!0},s.a.createElement(Ot,null)),s.a.createElement(v.a,{className:n.container,item:!0},""!==a?s.a.createElement(Ct.a,{isModal:!1}):s.a.createElement(F.a,{className:n.title},ye.a[r].home.noProjectSelected)))))}}]),n}(i.Component),St=Object(d.b)(function(e,t){return{hoverId:e.modal.logs.selectedProject,selectedLanguage:e.user.language,folders:Object(D.a)(t,e)}},function(e){return Object(u.b)({notifySuccess:M.c,toggleCreateFolderForm:U,toggleCreateProjectForm:B,fetchExportProjectsUser:W.c,fetchImportProject:H.b},e)})(Object(y.withStyles)({root:{flex:1,backgroundColor:"#f0f0f0",padding:20,paddingBottom:40,flexDirection:"column"},title:{color:"#2a3d41",fontWeight:"bold",fontSize:16,margin:"20px 0px"},container:{flex:1,padding:"0px 5px",margin:"0px 5px",display:"flex",flexDirection:"column",minHeight:"100%"},addFolderText:{fontSize:12,color:"white",margin:"0px 0px"},addFolderButton:{margin:5,padding:"0px 8px",borderColor:"white",border:"1px solid #fff",backgroundColor:"#ea5941","&:hover":{backgroundColor:"#ca3921"},color:"#fff",borderRadius:0},folderIcon:{margin:"0px 5px"}})(Pt));function xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var kt=function(e){Object(o.a)(n,e);var t=xt(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={loading:!0},r}return Object(r.a)(n,[{key:"componentWillMount",value:function(){var e=this;this.props.unselectAll(),Promise.all([this.props.fetchGetFolders(),this.props.fetchGetProjects(),this.props.fetchGetBoards()]).then(function(t){t[0].ok&&t[1].ok&&t[2].ok&&e.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?s.a.createElement(b.a,null):s.a.createElement(St,null)}}]),n}(i.Component);t.default=Object(d.b)(function(){return{}},function(e){return Object(u.b)({unselectAll:h.h,fetchGetFolders:f.c,fetchGetProjects:p.d,fetchGetBoards:m.c},e)})(kt)},627:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return i}),n.d(t,"m",function(){return s}),n.d(t,"n",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"o",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return y}),n.d(t,"e",function(){return j});var a=n(1),r=n(62),o=function(e){return{type:r.d,fetch:!0,url:"/projects/".concat(e,"/"),params:{method:"GET"}}},c=function(){return{type:r.c,fetch:!0,url:"/projects/",params:{method:"GET"}}},l=function(e){return{type:r.a,fetch:!0,url:"/projects/",params:{method:"POST",body:e}}},i=function(e){return{type:r.b,fetch:!0,url:"/projects/".concat(e,"/"),params:{method:"DELETE"}}},s=function(e,t){return{type:r.m,fetch:!0,url:"/projects/".concat(e,"/"),params:{method:"PUT",body:t}}},u=function(e,t){return{type:r.o,fetch:!0,url:"/projects/".concat(e,"/order/"),params:{method:"PUT",body:t}}},d=function(e){return{type:r.n,fetch:!0,url:"/projects/".concat(e,"/favorite/"),params:{method:"PUT"}}},f=function(e){return{type:r.f,fetch:!0,url:"/projects/".concat(e,"/gits/new/"),params:{method:"GET"}}},p=function(e,t){return{type:r.e,fetch:!0,url:"/projects/".concat(e,"/gits/link/"),params:{method:"POST",body:t}}},m=function(e){return{type:r.h,fetch:!0,url:"/projects/".concat(e,"/gits/repos/"),params:{method:"GET"}}},h=function(e){return{type:r.i,fetch:!0,url:"/projects/".concat(e,"/repos/"),params:{method:"GET"}}},b=function(e){return{type:r.g,fetch:!0,url:"/projects/".concat(e,"/gits"),params:{method:"DELETE"}}},g=function(e,t){return{type:r.j,fetch:!0,url:"/projects/".concat(e,"/gits/link_repo"),params:{method:"POST",body:t}}},y=function(e,t){return{type:r.k,fetch:!0,url:"/projects/".concat(e,"/repos/").concat(t),params:{method:"DELETE"}}},j=function(e,t){return{type:r.l,fetch:!0,url:"/projects/".concat(e,"/workload"),params:{method:"GET"},queryParams:Object(a.a)({},t)}}},638:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d});var a=n(1),r=n(92),o=function(e){return{type:r.a,fetch:!0,url:"/boards/",params:{method:"POST",body:e}}},c=function(e){return{type:r.d,fetch:!0,url:"/projects/".concat(e,"/boards"),params:{method:"GET"}}},l=function(){return{type:r.c,fetch:!0,url:"/boards",params:{method:"GET"}}},i=function(e,t){return{type:r.g,fetch:!0,url:"/boards/".concat(e,"/"),params:{method:"PUT",body:t}}},s=function(e){return{type:r.b,fetch:!0,url:"/boards/".concat(e,"/"),params:{method:"DELETE"}}},u=function(e,t){return{type:r.e,fetch:!0,url:"/boards/".concat(e,"/reported_tasks_between_dates"),params:{method:"GET"},queryParams:Object(a.a)({},t)}},d=function(e,t){return{type:r.f,fetch:!0,url:"/boards/".concat(e,"/tasks_between_dates"),params:{method:"GET"},queryParams:Object(a.a)({},t)}}},683:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l});var a=n(99),r=function(){return{type:a.d,fetch:!0,url:"/folders/",params:{method:"GET"}}},o=function(e){return{type:a.b,fetch:!0,url:"/folders/",params:{method:"POST",body:e}}},c=function(e){return{type:a.c,fetch:!0,url:"/folders/".concat(e,"/"),params:{method:"DELETE"}}},l=function(e,t){return{type:a.f,fetch:!0,url:"/folders/".concat(e,"/"),params:{method:"PUT",body:t}}}},742:function(e,t,n){"use strict";var a=n(39),r=n(0),o=n.n(r),c=n(29),l=n(713),i=n.n(l),s=n(715),u=n.n(s),d=n(716),f=n.n(d),p=n(178),m=n.n(p),h=n(768),b=n.n(h),g=function(e){var t=e.children,n=(e.headerColor,e.classes),r=e.summary,c=e.summaryStyle,l=Object(a.a)(e,["children","headerColor","classes","summary","summaryStyle"]);return o.a.createElement(i.a,Object.assign({},l,{className:n.materialPanel}),o.a.createElement(u.a,{style:c,expandIcon:o.a.createElement(b.a,{className:n.icon}),classes:{root:n.materialRoot,content:n.marterialeExpanded}},r),o.a.createElement(m.a,null),o.a.createElement(f.a,{className:n.content},t))};g.defaultProps={summaryStyle:{}},t.a=Object(c.withStyles)({content:{margin:0,padding:0},icon:{color:"#ea5941",width:"26px",height:"30px"},materialRoot:{minHeight:"0 !important",maxHeight:"48px"},marterialeExpanded:{margin:"10px !important"},materialPanel:{boxShadow:"0px 0px 0px 0px"}})(g)},758:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return c});var a=n(154),r=function(e,t){return{type:a.a,payload:{body:{id:e,projectId:t}}}},o=function(e){return{type:a.c,payload:{body:{id:e}}}},c=function(e){return{type:a.b,payload:{body:{id:e}}}}},785:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var a=n(213),r=function(e){return{type:a.b,payload:{body:{id:e}}}},o=function(e){return{type:a.a,payload:{body:e}}}},864:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});var a=function(e){return{type:"FETCH_EXPORT_BOARD",fetch:!0,url:"/export/board",params:{method:"GET"},queryParams:{board_id:e}}},r=function(e){return{type:"FETCH_EXPORT_PROYECT",fetch:!0,url:"/export/project",params:{method:"GET"},queryParams:{project_id:e}}},o=function(){return{type:"FETCH_EXPORT_PROYECTS_USER",fetch:!0,url:"/export/projects",params:{method:"GET"}}}}}]);
//# sourceMappingURL=20.c59068e7.chunk.js.map