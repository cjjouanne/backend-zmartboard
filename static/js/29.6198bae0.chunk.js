(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1569:function(t,e,r){"use strict";r.r(e);var n=r(6),o=r(7),a=r(8),c=r(9),i=r(4),u=r(0),s=r.n(u),l=r(20),d=r(26),f=r(123),p=r(622),m=r(18),h=r(29),b=r(46),g=r.n(b),y=(r(629),r(820)),j=r(27),E=function(t){var e=t.data,r=t.selectedLanguage;return s.a.createElement(y.ResponsiveBar,{data:e,layers:["grid","axes","bars","markers","legends","annotations","Titulo"],keys:["pr"],indexBy:"username",margin:{top:50,right:90,bottom:50,left:90},padding:.5,enableGridX:!0,enableGridY:!1,colorBy:function(t){return"#EB5941"},layout:"horizontal",enableLabel:!1,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:j.a[r].pullRequest.labelX,legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0}})},_=r(626),R=r(632),T=r(630),v=r(85);function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var o=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var S={titleContainer:{display:"block",paddingLeft:20,paddingTop:5,borderBottom:"2px solid rgb(68, 68, 68)"},title:{fontSize:"28px",fontFamiliy:'-apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", "Lucida Grande", Arial, sans-serif',color:"rgb(68, 68, 68)"},container:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gridGap:"2px"},item2:{height:"500px",width:"100%",gridColumn:"span 2 / auto"},item3:{height:"500px",gridColumn:"span 3 / auto"},titleText:{color:"#2a3d41",fontSize:18,fontWeight:"bold",marginTop:"10px",marginBottom:"10px"},text:{color:"#2a3d41",alignSelf:"center",fontSize:14,fontWeight:"bold",marginTop:"10px",marginBottom:"10px",marginRight:"5px"},selectText:{color:"#2a3d41",fontSize:14,fontWeight:"normal",marginTop:"10px",marginBottom:"10px",marginLeft:"10px"},grid:{display:"flex",width:"100%"},line:{width:"auto",height:"1px",backgroundColor:"#CCCCCC"},errorMsg:{marginLeft:"500px",marginTop:"200px",width:"200px",fontFamiliy:'-apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", "Lucida Grande", Arial, sans-serif',color:"rgb(68, 68, 68)",fontWeight:"bold"},noDataMsg:{marginLeft:"100px",marginTop:"200px",marginBottom:"500px",width:"200px",fontFamiliy:'-apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", "Lucida Grande", Arial, sans-serif',color:"rgb(68, 68, 68)",fontWeight:"bold"},wrapper:{height:"700px",width:"50vw"},headerContainer:{margin:"30px",width:"auto"}},P=function(t){Object(a.a)(r,t);var e=O(r);function r(t){var o;return Object(n.a)(this,r),(o=e.call(this,t)).state={loading:!0,pr_users:[]},o}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.props.changeTrazabilityHours({selectedRepo:this.props.selectedRepo,startDate:this.props.startDate,endDate:this.props.endDate,user:this.props.userId}),this.props.fetchGetLinkedRepos(this.props.projectId).then(function(e){e.ok&&(t.setState({repos:e.body}),e.body&&t.getPRbyUser())})}},{key:"getPRbyUser",value:function(){var t=this,e={repo_id:this.state.repos[0].id},r=[];this.props.fetchGetPR(this.props.projectId,e).then(function(e){console.log(e),e.ok&&(e.body.get_pull_requests.forEach(function(t){r.push({username:t.login,pr:t.pr,color:"#EB5941"})}),t.setState({loading:!1,pr_users:r}))})}},{key:"render",value:function(){if(this.state.loading)return s.a.createElement(m.a,null);var t=this.props,e=t.classes,r=t.selectedLanguage,n=this.state.pr_users;return s.a.createElement("div",{className:e.container},s.a.createElement("div",{className:e.headerContainer},s.a.createElement(g.a,{className:e.title},j.a[this.props.selectedLanguage].report.pullrequest),s.a.createElement("div",{className:e.line})),s.a.createElement("div",{style:S.graph,className:e.wrapper},n.length>0&&s.a.createElement(E,{data:n,selectedLanguage:r})))}}]),r}(u.Component),x=Object(d.b)(function(t,e){return{userId:t.auth.id,selectedRepo:t.project.trazabilityhoursRepository,user:t.project.trazabilityhoursUser,endDate:t.project.trazabilityhoursEndDate,startDate:t.project.trazabilityhoursStarDate,users:Object(T.a)(e,t),selectedLanguage:t.user.language}},function(t){return Object(l.b)({fetchVizHoursPerTask:_.i,fetchGetPR:_.c,fetchGetPRLeadTime:_.d,fetchGetCommitsPerPR:_.a,fetchVizGithub:_.f,fetchGetLinkedRepos:_.b,changeTrazabilityHours:R.d,notifyError:v.b},t)})(Object(h.withStyles)(S)(P));function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(i.a)(t);if(e){var o=Object(i.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var C=function(t){Object(a.a)(r,t);var e=k(r);function r(t){var o;return Object(n.a)(this,r),(o=e.call(this,t)).state={loading:!0},o}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.props.selectProject(this.props.projectId),this.props.fetchProjectMembers(this.props.projectId).then(function(){t.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?s.a.createElement(m.a,null):s.a.createElement(u.Fragment,null,s.a.createElement(x,{projectId:this.props.projectId}))}}]),r}(u.Component);e.default=Object(d.b)(function(t,e){return{projectId:String(e.match.params.id)}},function(t){return Object(l.b)({selectProject:f.d,fetchProjectMembers:p.b},t)})(C)},622:function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"d",function(){return a}),r.d(e,"e",function(){return c}),r.d(e,"f",function(){return i}),r.d(e,"a",function(){return u}),r.d(e,"c",function(){return s});var n=r(61),o=function(t){return{type:n.c,fetch:!0,url:"/projects/".concat(t,"/members/"),params:{method:"GET"}}},a=function(t,e){return{type:n.e,fetch:!0,url:"/tasks/".concat(t,"/assign/"),params:{method:"POST",body:e}}},c=function(t,e){return{type:n.f,fetch:!0,url:"/tasks/".concat(t,"/users/").concat(e,"/unassign/"),params:{method:"DELETE"}}},i=function(t,e,r){return{type:n.g,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"PUT",body:r}}},u=function(t,e){return{type:n.b,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"DELETE"}}},s=function(t,e){return{type:n.d,fetch:!0,url:"/projects/".concat(t,"/members/").concat(e,"/"),params:{method:"DELETE"}}}},626:function(t,e,r){"use strict";var n=r(1);r.d(e,"g",function(){return o}),r.d(e,"h",function(){return a}),r.d(e,"j",function(){return c}),r.d(e,"i",function(){return i}),r.d(e,"f",function(){return u}),r.d(e,"b",function(){return s}),r.d(e,"e",function(){return l}),r.d(e,"c",function(){return d}),r.d(e,"d",function(){return f}),r.d(e,"a",function(){return p});var o=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_BOARD",fetch:!0,url:"/viz/projects/".concat(t,"/hours_per_board"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},a=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_LABEL",fetch:!0,url:"/viz/boards/".concat(t,"/hours_per_label"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},c=function(t,e){return{type:"FETCH_VIZ_HOURS_PER_USER",fetch:!0,url:"/viz/projects/".concat(t,"/hours_per_user"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},i=function(t,e,r){return{type:"FETCH_VIZ_HOURS_PER_TASK",fetch:!0,url:"/viz/projects/".concat(t,"/users/").concat(e,"/tasks"),params:{method:"GET"},queryParams:Object(n.a)({},r)}},u=function(t,e,r){return{type:"FETCH_VIZ_GITHUB",fetch:!0,url:"/viz/projects/".concat(t,"/users/").concat(e,"/github"),params:{method:"GET"},queryParams:Object(n.a)({},r)}},s=function(t){return{type:"FETCH_VIZ_LINKED_REPOS",fetch:!0,url:"/projects/".concat(t,"/repos"),params:{method:"GET"}}},l=function(t,e){return{type:"FETCH_VIZ_HOURS_TIMELINE",fetch:!0,url:"/viz/projects/".concat(t,"/users_timeline"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},d=function(t,e){return{type:"FETCH_VIZ_PR",fetch:!0,url:"/projects/".concat(t,"/gits/get_pull_requests"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},f=function(t,e){return{type:"FETCH_VIZ_PR_LEAD_TIME",fetch:!0,url:"/projects/".concat(t,"/gits/get_pr_lead_time"),params:{method:"GET"},queryParams:Object(n.a)({},e)}},p=function(t,e){return{type:"FETCH_VIZ_COMMITS_PER_PR",fetch:!0,url:"/projects/".concat(t,"/gits/get_commits_of_all_pr"),params:{method:"GET"},queryParams:Object(n.a)({},e)}}},630:function(t,e,r){"use strict";r.d(e,"a",function(){return c}),r.d(e,"d",function(){return i}),r.d(e,"c",function(){return u}),r.d(e,"e",function(){return s}),r.d(e,"b",function(){return l});var n=r(45),o=r(40),a=function(t){return null!=t?t.ref:null},c=Object(n.b)(o.a,function(t,e){return e.orm},function(t,e){return e.user.selectedProjectId},function(t,e){var r=a(t.Project.get(function(t){return t.id===e}));return null===r?[]:t.Member.filter(function(t){return r.members.includes(t.id)}).orderBy(function(t){return t.name.toUpperCase()}).toRefArray()}),i=Object(n.b)(o.a,function(t,e){return e.orm},function(t,e){return e.board.selectedTask},function(t,e){return e.user.selectedProjectId},function(t,e,r){var n=t.Task.get(function(t){return t.id===e}).ref;if(null===n)return null;var o=n.assigned,a=t.Project.get(function(t){return t.id===r}).ref.members;return t.Member.filter(function(t){return a.includes(t.id)}).orderBy(function(t){return t.name.toUpperCase()}).toRefArray().map(function(t){return Object.assign({},t,{assigned:o.includes(t.id)})})}),u=Object(n.b)(o.a,function(t,e){return e.orm},function(t){return t.taskId},function(t,e){var r=a(t.Task.get(function(t){return t.id===e}));return null===r?null:Object.assign({},{assigned:t.Member.filter(function(t){return r.assigned.includes(t.id)}).toRefArray()}).assigned}),s=Object(n.b)(o.a,function(t,e){return e.orm},function(t,e){return e.board.selectedTask},function(t,e){var r=a(t.Task.get(function(t){return t.id===e}));return null===r?null:Object.assign({},{assigned:t.Member.filter(function(t){return r.assigned.includes(t.id)}).toRefArray()}).assigned}),l=Object(n.b)(o.a,function(t,e){return e.orm},function(t,e){return e.user.selectedProjectId},function(t,e){var r=a(t.Project.get(function(t){return t.id===e}));return null===r?[]:t.Member.filter(function(t){return r.members.includes(t.id)&&"viewer"!==t.role}).orderBy(function(t){return t.name.toUpperCase()}).toRefArray()})},632:function(t,e,r){"use strict";r.d(e,"f",function(){return o}),r.d(e,"a",function(){return a}),r.d(e,"b",function(){return c}),r.d(e,"e",function(){return i}),r.d(e,"d",function(){return u}),r.d(e,"c",function(){return s}),r.d(e,"g",function(){return l});var n=r(71),o=function(t){return{type:n.d,payload:{body:{id:t}}}},a=function(t){return{type:n.a,payload:{body:t}}},c=function(t){return{type:n.b,payload:{body:t}}},i=function(t){return{type:n.g,payload:{body:t}}},u=function(t){return{type:n.f,payload:{body:t}}},s=function(t){return{type:n.c,payload:{body:t}}},l=function(){return{type:n.e}}}}]);
//# sourceMappingURL=29.6198bae0.chunk.js.map